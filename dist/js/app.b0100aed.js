(function(t){function o(o){for(var i,a,s=o[0],c=o[1],u=o[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(e,a)&&e[a]&&p.push(e[a][0]),e[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(o);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,o=0;o<r.length;o++){for(var n=r[o],i=!0,s=1;s<n.length;s++){var c=n[s];0!==e[c]&&(i=!1)}i&&(r.splice(o--,1),t=a(a.s=n[0]))}return t}var i={},e={app:0},r=[];function a(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,o,n){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var i in t)a.d(n,i,function(o){return t[o]}.bind(null,i));return n},a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,o,n){t.exports=n("cd49")},"5c0b":function(t,o,n){"use strict";var i=n("9c0c"),e=n.n(i);e.a},"9c0c":function(t,o,n){},cd49:function(t,o,n){"use strict";n.r(o);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"qi-pan",on:{dragenter:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()},drop:function(o){return o.preventDefault(),t.drop(o)}}},[t._l(400,(function(t){return n("div",{key:t,staticClass:"item"})})),t._l(t.realDots,(function(t){return n("qi-zi",{key:JSON.stringify(t.position),attrs:{dot:t}})}))],2),n("div",{staticClass:"wrap"},[n("div",{staticClass:"qi-zi-guan black",on:{dragstart:function(o){return t.dragstart(o,"black")}}},[n("div",{staticClass:"inner"})]),n("div",{staticClass:"qi-zi-guan white",on:{dragstart:function(o){return t.dragstart(o,"white")}}},[n("div",{staticClass:"inner"})])])])},r=[],a=(n("a623"),n("4de4"),n("fb6a"),n("d4ec")),s=n("bee2"),c=n("99de"),u=n("7e84"),l=n("262e"),f=n("9ab4"),p=n("60a3"),d=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"qi-zi",style:{left:32*t.dot.position[0]-15+"px",top:32*t.dot.position[1]-15+"px",backgroundColor:t.dot.color}})},h=[],v=function(t){function o(){return Object(a["a"])(this,o),Object(c["a"])(this,Object(u["a"])(o).apply(this,arguments))}return Object(l["a"])(o,t),o}(p["c"]);Object(f["a"])([Object(p["b"])()],v.prototype,"dot",void 0),v=Object(f["a"])([p["a"]],v);for(var b=v,y=b,g=(n("dac4"),n("2877")),O=Object(g["a"])(y,d,h,!1,null,"506137ca",null),x=O.exports,j=[],k=0;k<=20;k++)for(var w=0;w<=20;w++){var D={position:[w,k],color:void 0};j.push(D)}var _=function(t){function o(){var t;return Object(a["a"])(this,o),t=Object(c["a"])(this,Object(u["a"])(o).apply(this,arguments)),t.dots=j,t}return Object(l["a"])(o,t),Object(s["a"])(o,[{key:"dragstart",value:function(t,o){t.dataTransfer&&t.dataTransfer.setData("text",o)}},{key:"drop",value:function(t){if(t.dataTransfer){var o=t.dataTransfer.getData("text");if("black"===o||"white"===o){var n=[t.offsetX,t.offsetY];if(n[0]>32||n[0]>32)console.error("没有拖拽到棋盘上");else{var i=[t.target.offsetLeft/32,t.target.offsetTop/32];n[0]<=16&&n[1]<=16||(n[0]>16&&n[1]<=16?i[0]+=1:n[0]<=16&&n[1]>16?i[1]+=1:n[0]>16&&n[1]>16&&(i[0]+=1,i[1]+=1)),this.addQiZi({position:i,color:o})}}else console.error("不能这样拖拽")}}},{key:"addQiZi",value:function(t){var o=this.dots[this.calcuIndex(t.position[0],t.position[1])];if(!o)throw new Error(JSON.stringify(t));if(o.color)return console.warn("这个位置已经有棋子了！"),!1;o.color=t.color,this.isWin(o)&&console.log("".concat(o.color," win！"))}},{key:"isWin",value:function(t){var o=this.calcuDots(t,"x"),n=this.calcuDots(t,"y"),i=this.calcuDots(t,"xy"),e=this.calcuDots(t,"yx");return this.calcuWin(o,t.color)||this.calcuWin(n,t.color)||this.calcuWin(i,t.color)||this.calcuWin(e,t.color)}},{key:"calcuDots",value:function(t,o){var n=[t];switch(o){case"x":for(var i=1;i<=4;i++)t.position[0]-i>=0&&n.unshift(this.dots[this.calcuIndex(t.position[0]-i,t.position[1])]),t.position[0]+i<=20&&n.push(this.dots[this.calcuIndex(t.position[0]+i,t.position[1])]);break;case"y":for(var e=1;e<=4;e++)t.position[1]-e>=0&&n.unshift(this.dots[this.calcuIndex(t.position[0],t.position[1]-e)]),t.position[1]+e<=20&&n.push(this.dots[this.calcuIndex(t.position[0],t.position[1]+e)]);break;case"xy":for(var r=1;r<=4;r++)t.position[0]-r>=0&&t.position[1]+r<=20&&n.unshift(this.dots[this.calcuIndex(t.position[0]-r,t.position[1]+r)]),t.position[0]+r<=20&&t.position[1]-r>=0&&n.push(this.dots[this.calcuIndex(t.position[0]+r,t.position[1]-r)]);break;case"yx":for(var a=1;a<=4;a++)t.position[0]-a>=0&&t.position[1]-a>=0&&n.unshift(this.dots[this.calcuIndex(t.position[0]-a,t.position[1]-a)]),t.position[0]+a<=20&&t.position[1]+a<=20&&n.push(this.dots[this.calcuIndex(t.position[0]+a,t.position[1]+a)]);break}return n}},{key:"calcuWin",value:function(t,o){for(var n=!1,i=t.length-4,e=0;e<i;e++){var r=t.slice(e,e+5);if(r.every((function(t){return t.color===o}))){n=!0;break}}return n}},{key:"calcuIndex",value:function(t,o){return t+21*o}},{key:"realDots",get:function(){return this.dots.filter((function(t){return t.color}))}}]),o}(p["c"]);_=Object(f["a"])([Object(p["a"])({components:{QiZi:x}})],_);var m=_,I=m,C=(n("5c0b"),Object(g["a"])(I,e,r,!1,null,null,null)),T=C.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(T)}}).$mount("#app")},dac4:function(t,o,n){"use strict";var i=n("e242"),e=n.n(i);e.a},e242:function(t,o,n){}});
//# sourceMappingURL=app.b0100aed.js.map